package ${env:package_name}

import (
	"${env:projectName}/handler"
    "${env:projectName}/model"
    "${env:projectName}/search-model"
    "${env:projectName}/service"
    . "github.com/common-go/echo"
    "reflect"
)

type ${name}Controller struct {
	*GenericController
	*SearchController
}


func New${name}Controller(${name}Service service.${name}Service, logService ActivityLogService) *${name}Controller {
	var ${name}Model model.${name}
	modelType := reflect.TypeOf(${name}Model)
	searchModelType := reflect.TypeOf(search_model.${name}SM{})
	idNames := ${name}Service.GetIdNames()
	controlModelHandler := handler.NewControlModelHandler(idNames)
	genericController, searchController:= NewGenericSearchController(${name}Service, modelType, controlModelHandler, ${name}Service, searchModelType,nil, logService, true, "")
	return &${name}Controller{GenericController: genericController, SearchController: searchController}
}