package ${static_package}

import (
	"${projectName}/handler"
    "${projectName}/model"
    "${projectName}/search-model"
    "${projectName}/service"
    . "github.com/common-go/echo"
    "reflect"
)

type ${Entity}Controller struct {
	*GenericController
	*SearchController
}


func New${Entity}Controller(${entity}Service service.${Entity}Service, logService ActivityLogService) *${Entity}Controller {
	var ${entity}Model model.${Entity}
	modelType := reflect.TypeOf(${entity}Model)
	searchModelType := reflect.TypeOf(search_model.${Entity}SM{})
	idNames := ${entity}Service.GetIdNames()
	controlModelHandler := handler.NewControlModelHandler(idNames)
	genericController, searchController:= NewGenericSearchController(${entity}Service, modelType, controlModelHandler, ${entity}Service, searchModelType,nil, logService, true, "")
	return &${Entity}Controller{GenericController: genericController, SearchController: searchController}
}